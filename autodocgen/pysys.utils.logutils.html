

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pysys.utils.logutils &mdash; PySys v2.1.dev1  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="pysys.utils.misc" href="pysys.utils.misc.html" />
    <link rel="prev" title="pysys.utils.linecount" href="pysys.utils.linecount.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> PySys v2.1.dev1
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../GettingStarted.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pysys/BaseTest.html">The BaseTest Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pysys/UserGuide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pysys/ProjectConfiguration.html">Project Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pysys/TestDescriptors.html">Test Descriptors</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="pysys.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="pysys.baserunner.html">pysys.baserunner</a></li>
<li class="toctree-l2"><a class="reference internal" href="pysys.config.html">pysys.config</a></li>
<li class="toctree-l2"><a class="reference internal" href="pysys.constants.html">pysys.constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="pysys.exceptions.html">pysys.exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="pysys.launcher.html">pysys.launcher</a></li>
<li class="toctree-l2"><a class="reference internal" href="pysys.mappers.html">pysys.mappers</a></li>
<li class="toctree-l2"><a class="reference internal" href="pysys.perf.html">pysys.perf</a></li>
<li class="toctree-l2"><a class="reference internal" href="pysys.process.html">pysys.process</a></li>
<li class="toctree-l2"><a class="reference internal" href="pysys.unit.html">pysys.unit</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="pysys.utils.html">pysys.utils</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.allocport.html">pysys.utils.allocport</a></li>
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.filediff.html">pysys.utils.filediff</a></li>
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.filegrep.html">pysys.utils.filegrep</a></li>
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.filereplace.html">pysys.utils.filereplace</a></li>
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.fileunzip.html">pysys.utils.fileunzip</a></li>
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.fileutils.html">pysys.utils.fileutils</a></li>
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.linecount.html">pysys.utils.linecount</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">pysys.utils.logutils</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#baselogformatter">BaseLogFormatter</a></li>
<li class="toctree-l4"><a class="reference internal" href="#colorlogformatter">ColorLogFormatter</a></li>
<li class="toctree-l4"><a class="reference internal" href="#stripansiescapecodes">stripANSIEscapeCodes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#stdoutprint">stdoutPrint</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.misc.html">pysys.utils.misc</a></li>
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.perfreporter.html">pysys.utils.perfreporter</a></li>
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.pycompat.html">pysys.utils.pycompat</a></li>
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.safeeval.html">pysys.utils.safeeval</a></li>
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.threadutils.html">pysys.utils.threadutils</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="pysys.writer.html">pysys.writer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ChangeLog.html">Change Log</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PySys v2.1.dev1</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="pysys.html">API Reference</a> &raquo;</li>
        
          <li><a href="pysys.utils.html">pysys.utils</a> &raquo;</li>
        
      <li>pysys.utils.logutils</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/autodocgen/pysys.utils.logutils.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-pysys.utils.logutils">
<span id="pysys-utils-logutils"></span><h1>pysys.utils.logutils<a class="headerlink" href="#module-pysys.utils.logutils" title="Permalink to this headline">¶</a></h1>
<p>Log formatting classes that can be used or customized from the project configuration, including support for colored 
output on the console.</p>
<div class="section" id="baselogformatter">
<h2>BaseLogFormatter<a class="headerlink" href="#baselogformatter" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="pysys.utils.logutils.BaseLogFormatter">
<em class="property">class </em><code class="sig-prename descclassname">pysys.utils.logutils.</code><code class="sig-name descname">BaseLogFormatter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">propertiesDict</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pysys/utils/logutils.html#BaseLogFormatter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysys.utils.logutils.BaseLogFormatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">logging.Formatter</span></code></p>
<p>Base class for formatting log messages.</p>
<p>This implementation delegates everything to logging.Formatter using the messagefmt and datefmt
properties. Subclasses may be implemented to provide required customizations, and can be registered
by specifying classname in the formatter node of the project configuration file.</p>
<p>The class is constructed with a dictionary of properties, which are configured by providing
&lt;property name=”…” value=”…”/&gt; elements or attributes on the formatter node of the project
configuration file. Entries in the properties should be specific to the class, and removed
when passing the properties to the super class, which will throw an exception if any unexpected
options are present</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>propertiesDict</strong> – dictionary of formatter-specific options</p>
</dd>
</dl>
<dl class="py method">
<dt id="pysys.utils.logutils.BaseLogFormatter.tag">
<em class="property">classmethod </em><code class="sig-name descname">tag</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">category</span></em>, <em class="sig-param"><span class="n">arg_index</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">suppress_prefix</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pysys/utils/logutils.html#BaseLogFormatter.tag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysys.utils.logutils.BaseLogFormatter.tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Return  dictionary to tag a string to format with color encodings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>category</strong> – The category, as defined in <code class="xref py py-obj docutils literal notranslate"><span class="pre">ColorLogFormatter.COLOR_CATEGORIES</span></code></p></li>
<li><p><strong>arg_index</strong> – The index of argument in the string expansion to color. This can be either a single
integer value representing the index, or a list of integers representing a set of indexes to be colored. 
Note that format arguments for coloring must be of string type.</p></li>
<li><p><strong>suppress_prefix</strong> (<em>bool</em>) – Set to True to suppress the timestamp and log level prefix, to save horizontal space 
on the console. Only do this for log lines where you’re sure these details aren’t needed, for example where a 
preceding log line with those details) has already been printed and there is no chance of other threads writing 
interleaving lines to the same device. 
This flag only affects the colored formatter (as used on the console). Added in v2.1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dictionary that can then be used in calls to the logger</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="colorlogformatter">
<h2>ColorLogFormatter<a class="headerlink" href="#colorlogformatter" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="pysys.utils.logutils.ColorLogFormatter">
<em class="property">class </em><code class="sig-prename descclassname">pysys.utils.logutils.</code><code class="sig-name descname">ColorLogFormatter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">propertiesDict</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pysys/utils/logutils.html#ColorLogFormatter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysys.utils.logutils.ColorLogFormatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pysys.utils.logutils.BaseLogFormatter" title="pysys.utils.logutils.BaseLogFormatter"><code class="xref py py-class docutils literal notranslate"><span class="pre">pysys.utils.logutils.BaseLogFormatter</span></code></a></p>
<p>Formatter supporting colored output to a console.</p>
<p>This implementation supports color coding of messages based on the category of the message,
and the index of the string in the format encoding. This implementation is the default for
console output, with the color coding enabled either by the color option on the formatter
set to true.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">PYSYS_COLOR</span></code> environment variable can be set to true or false, overriding any 
setting specified in the project configuration.</p>
<p>The colors used for each category defined by this class can be overridden 
by specifying “color:XXX” options, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">formatter</span><span class="o">&gt;&lt;</span><span class="nb">property</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;color:dumped core&quot;</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;YELLOW&quot;</span><span class="o">/&gt;&lt;/</span><span class="n">formatter</span><span class="o">&gt;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>COLOR_CATEGORIES</strong> (<em>dict</em><em>(</em><em>str</em><em>,</em><em>str</em><em>)</em>) – the color map for the defined logging categories</p></li>
<li><p><strong>COLOR_ESCAPE_CODES</strong> (<em>dict</em><em>(</em><em>str</em><em>,</em><em>str</em><em>)</em>) – the escape codes for each of the support colors</p></li>
</ul>
</dd>
</dl>
<p>Create an instance of the formatter class.</p>
<dl class="py method">
<dt id="pysys.utils.logutils.ColorLogFormatter.configureANSIEscapeCodes">
<em class="property">static </em><code class="sig-name descname">configureANSIEscapeCodes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bright</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pysys/utils/logutils.html#ColorLogFormatter.configureANSIEscapeCodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysys.utils.logutils.ColorLogFormatter.configureANSIEscapeCodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the ANSI escape codes to be used, either using the extended 
“bright” colors that look better, or the more widely supported 
standard ones.</p>
<p>Called during startup, but can also be programatically invoked 
later</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>bright</strong> – set to False to force only the basic (30-39) codes 
or True to use the better-looking 90-99 bright codes which are not 
supported by all terminals. Default is bright=False, but can be 
overridden by the <code class="docutils literal notranslate"><span class="pre">PYSYS_COLOR_BASIC</span></code> environment var.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pysys.utils.logutils.ColorLogFormatter.formatException">
<code class="sig-name descname">formatException</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">exc_info</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pysys/utils/logutils.html#ColorLogFormatter.formatException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysys.utils.logutils.ColorLogFormatter.formatException" title="Permalink to this definition">¶</a></dt>
<dd><p>Format an exception for logging, returning the new value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>exc_info</strong> – The exception info</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The formatted message ready for logging</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pysys.utils.logutils.ColorLogFormatter.format">
<code class="sig-name descname">format</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">record</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pysys/utils/logutils.html#ColorLogFormatter.format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysys.utils.logutils.ColorLogFormatter.format" title="Permalink to this definition">¶</a></dt>
<dd><p>Format a log record for logging, returning the new value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>record</strong> – The message to be formatted</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The formatted message ready for logging</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pysys.utils.logutils.ColorLogFormatter.formatArg">
<code class="sig-name descname">formatArg</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">category</span></em>, <em class="sig-param"><span class="n">arg</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pysys/utils/logutils.html#ColorLogFormatter.formatArg"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysys.utils.logutils.ColorLogFormatter.formatArg" title="Permalink to this definition">¶</a></dt>
<dd><p>Format a single argument within a record, based on its category.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>category</strong> – The logging category</p></li>
<li><p><strong>arg</strong> – The argument within the record.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pysys.utils.logutils.ColorLogFormatter.colorCategoryToEscapeSequence">
<code class="sig-name descname">colorCategoryToEscapeSequence</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">category</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pysys/utils/logutils.html#ColorLogFormatter.colorCategoryToEscapeSequence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysys.utils.logutils.ColorLogFormatter.colorCategoryToEscapeSequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the escape sequence to be used for the specified category of logging output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>category</strong> – The category of the log message</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The escape sequence</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pysys.utils.logutils.ColorLogFormatter.initColoringLibrary">
<code class="sig-name descname">initColoringLibrary</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pysys/utils/logutils.html#ColorLogFormatter.initColoringLibrary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysys.utils.logutils.ColorLogFormatter.initColoringLibrary" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize any python library required for ensuring ANSI escape sequences can be processed.</p>
<p>The default implementation does nothing on Unix but on Windows attempts to load the “Colorama”
library if is is present (unless the environment variable 
PYSYS_DISABLE_COLORAMA=true is set).</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="stripansiescapecodes">
<h2>stripANSIEscapeCodes<a class="headerlink" href="#stripansiescapecodes" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="pysys.utils.logutils.stripANSIEscapeCodes">
<code class="sig-prename descclassname">pysys.utils.logutils.</code><code class="sig-name descname">stripANSIEscapeCodes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">text</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pysys/utils/logutils.html#stripANSIEscapeCodes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysys.utils.logutils.stripANSIEscapeCodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove any ANSI escape sequences (for example to set console color) present in the specified string.</p>
<p>..versionadded:: 1.6.0</p>
</dd></dl>

</div>
<div class="section" id="stdoutprint">
<h2>stdoutPrint<a class="headerlink" href="#stdoutprint" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="pysys.utils.logutils.stdoutPrint">
<code class="sig-prename descclassname">pysys.utils.logutils.</code><code class="sig-name descname">stdoutPrint</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">s</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pysys/utils/logutils.html#stdoutPrint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysys.utils.logutils.stdoutPrint" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the specified bytes or (preferably) unicode character string 
to stdout, avoiding any redirection to loggers performed by PySys, and 
performing replacements if needed based on the characters 
supported by the stdout encoding, and with support for output coloring 
using escape sequences (if enabled in PySys).</p>
<p>In most cases a logger should be used for output from PySys, but this 
function is provided as a way to write to stdout for cases where it is truly 
needed, such as unconditionally writing status messages to a CI system.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>s</strong> – a unicode or bytes string. A newline will be added automatically.</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="pysys.utils.misc.html" class="btn btn-neutral float-right" title="pysys.utils.misc" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="pysys.utils.linecount.html" class="btn btn-neutral float-left" title="pysys.utils.linecount" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2006-2022 M.B. Grieve; documentation last updated on 2022-03-17

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>