

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pysys.utils.filegrep &mdash; PySys v2.2  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="pysys.utils.filereplace" href="pysys.utils.filereplace.html" />
    <link rel="prev" title="pysys.utils.filediff" href="pysys.utils.filediff.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> PySys v2.2
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../GettingStarted.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pysys/BaseTest.html">The BaseTest Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pysys/UserGuide.html">Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pysys/ProjectConfiguration.html">Project Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pysys/TestDescriptors.html">Test Descriptors</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="pysys.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="pysys.baserunner.html">pysys.baserunner</a></li>
<li class="toctree-l2"><a class="reference internal" href="pysys.config.html">pysys.config</a></li>
<li class="toctree-l2"><a class="reference internal" href="pysys.constants.html">pysys.constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="pysys.exceptions.html">pysys.exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="pysys.launcher.html">pysys.launcher</a></li>
<li class="toctree-l2"><a class="reference internal" href="pysys.mappers.html">pysys.mappers</a></li>
<li class="toctree-l2"><a class="reference internal" href="pysys.perf.html">pysys.perf</a></li>
<li class="toctree-l2"><a class="reference internal" href="pysys.process.html">pysys.process</a></li>
<li class="toctree-l2"><a class="reference internal" href="pysys.unit.html">pysys.unit</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="pysys.utils.html">pysys.utils</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.allocport.html">pysys.utils.allocport</a></li>
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.filediff.html">pysys.utils.filediff</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">pysys.utils.filegrep</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#getmatches">getmatches</a></li>
<li class="toctree-l4"><a class="reference internal" href="#filegrep">filegrep</a></li>
<li class="toctree-l4"><a class="reference internal" href="#lastgrep">lastgrep</a></li>
<li class="toctree-l4"><a class="reference internal" href="#orderedgrep">orderedgrep</a></li>
<li class="toctree-l4"><a class="reference internal" href="#logcontents">logContents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.filereplace.html">pysys.utils.filereplace</a></li>
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.fileunzip.html">pysys.utils.fileunzip</a></li>
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.fileutils.html">pysys.utils.fileutils</a></li>
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.linecount.html">pysys.utils.linecount</a></li>
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.logutils.html">pysys.utils.logutils</a></li>
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.misc.html">pysys.utils.misc</a></li>
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.osutils.html">pysys.utils.osutils</a></li>
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.perfreporter.html">pysys.utils.perfreporter</a></li>
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.pycompat.html">pysys.utils.pycompat</a></li>
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.safeeval.html">pysys.utils.safeeval</a></li>
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.threadutils.html">pysys.utils.threadutils</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="pysys.writer.html">pysys.writer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ChangeLog.html">Change Log</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PySys v2.2</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="pysys.html">API Reference</a> &raquo;</li>
        
          <li><a href="pysys.utils.html">pysys.utils</a> &raquo;</li>
        
      <li>pysys.utils.filegrep</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/autodocgen/pysys.utils.filegrep.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-pysys.utils.filegrep">
<span id="pysys-utils-filegrep"></span><h1>pysys.utils.filegrep<a class="headerlink" href="#module-pysys.utils.filegrep" title="Permalink to this headline">¶</a></h1>
<p>Regular expression grep matching in text files.</p>
<div class="section" id="getmatches">
<h2>getmatches<a class="headerlink" href="#getmatches" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="pysys.utils.filegrep.getmatches">
<code class="sig-prename descclassname">pysys.utils.filegrep.</code><code class="sig-name descname">getmatches</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file</span></em>, <em class="sig-param"><span class="n">regexpr</span></em>, <em class="sig-param"><span class="n">ignores</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">encoding</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">encodingReplaceOnError</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">flags</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">mappers</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">returnFirstOnly</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pysys/utils/filegrep.html#getmatches"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysys.utils.filegrep.getmatches" title="Permalink to this definition">¶</a></dt>
<dd><p>Look for matches on a regular expression in an input file, return a sequence of the matches 
(or if returnFirstOnly=True, just the first).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> – The full path to the input file</p></li>
<li><p><strong>regexpr</strong> – The regular expression used to search for matches</p></li>
<li><p><strong>mappers</strong> – A list of lambdas or generator functions used to pre-process the file’s lines before looking for matches.</p></li>
<li><p><strong>ignores</strong> – A list of regexes which will cause matches to be discarded. These are applied <em>after</em> any mappers.</p></li>
<li><p><strong>encoding</strong> – Specifies the encoding to be used for opening the file, or None for default.</p></li>
<li><p><strong>encodingReplaceOnError</strong> (<em>bool</em>) – Set to True to replace erroneous characters that are invalid in the expected encoding (with a backslash escape) rather than throwing an exception.</p></li>
<li><p><strong>returnFirstOnly</strong> – If True, stops reading the file as soon as the first match is found and returns it.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of the match objects, or the match object or None if returnFirstOnly is True</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="pysys.exceptions.html#pysys.exceptions.FileNotFoundException" title="pysys.exceptions.FileNotFoundException"><strong>FileNotFoundException</strong></a> – Raised if the input file does not exist</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="filegrep">
<h2>filegrep<a class="headerlink" href="#filegrep" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="pysys.utils.filegrep.filegrep">
<code class="sig-prename descclassname">pysys.utils.filegrep.</code><code class="sig-name descname">filegrep</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file</span></em>, <em class="sig-param"><span class="n">expr</span></em>, <em class="sig-param"><span class="n">returnMatch</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pysys/utils/filegrep.html#filegrep"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysys.utils.filegrep.filegrep" title="Permalink to this definition">¶</a></dt>
<dd><p>Search for matches to a regular expression in an input file, returning true if a match occurs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> – The full path to the input file</p></li>
<li><p><strong>expr</strong> – The regular expression (uncompiled) to search for in the input file</p></li>
<li><p><strong>ignores</strong> – Optional list of regular expression strings to ignore when searching file.</p></li>
<li><p><strong>returnMatch</strong> – return the regex match object instead of a simple boolean</p></li>
<li><p><strong>encoding</strong> – Specifies the encoding to be used for opening the file, or None for default.</p></li>
<li><p><strong>mappers</strong> – Mappers to pre-process the file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>success (True / False), unless returnMatch=True in which case it returns the regex match 
object (or None if not matched)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>integer</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="pysys.exceptions.html#pysys.exceptions.FileNotFoundException" title="pysys.exceptions.FileNotFoundException"><strong>FileNotFoundException</strong></a> – Raised if the input file does not exist</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="lastgrep">
<h2>lastgrep<a class="headerlink" href="#lastgrep" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="pysys.utils.filegrep.lastgrep">
<code class="sig-prename descclassname">pysys.utils.filegrep.</code><code class="sig-name descname">lastgrep</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file</span></em>, <em class="sig-param"><span class="n">expr</span></em>, <em class="sig-param"><span class="n">ignore</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">include</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">encoding</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">returnMatch</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">flags</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pysys/utils/filegrep.html#lastgrep"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysys.utils.filegrep.lastgrep" title="Permalink to this definition">¶</a></dt>
<dd><p>Search for matches to a regular expression in the last line of an input file, returning true if a match occurs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> – The full path to the input file</p></li>
<li><p><strong>expr</strong> – The regular expression (uncompiled) to search for in the last line of the input file</p></li>
<li><p><strong>ignore</strong> – A list of regular expressions which remove entries in the input file contents before making the grep</p></li>
<li><p><strong>include</strong> – A list of regular expressions used to select lines from the input file contents to use in the grep</p></li>
<li><p><strong>encoding</strong> – Specifies the encoding to be used for opening the file, or None for default.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>success (True / False)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>integer</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="pysys.exceptions.html#pysys.exceptions.FileNotFoundException" title="pysys.exceptions.FileNotFoundException"><strong>FileNotFoundException</strong></a> – Raised if the input file does not exist</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="orderedgrep">
<h2>orderedgrep<a class="headerlink" href="#orderedgrep" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="pysys.utils.filegrep.orderedgrep">
<code class="sig-prename descclassname">pysys.utils.filegrep.</code><code class="sig-name descname">orderedgrep</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file</span></em>, <em class="sig-param"><span class="n">exprList</span></em>, <em class="sig-param"><span class="n">encoding</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">flags</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pysys/utils/filegrep.html#orderedgrep"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysys.utils.filegrep.orderedgrep" title="Permalink to this definition">¶</a></dt>
<dd><p>Seach for ordered matches to a set of regular expressions in an input file, returning None 
on success, and a string indicating the missing expression something is missing.</p>
<p>The ordered grep method will only pass if matches to the set of regular expression in the expression 
list occur in the input file in the order they appear in the expression list. Matches to the regular expressions 
do not have to be across sequential lines in the input file, only in the correct order. For example, for a file 
with contents</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="ow">is</span> <span class="k">for</span> <span class="n">apple</span> 
<span class="n">B</span> <span class="ow">is</span> <span class="k">for</span> <span class="n">book</span>
<span class="n">C</span> <span class="ow">is</span> <span class="k">for</span> <span class="n">cat</span>
<span class="n">D</span> <span class="ow">is</span> <span class="k">for</span> <span class="n">dog</span>
</pre></div>
</div>
<p>an expression list of [“^A.*$”, “^C.*$”, “^D.*$”] will return true, whilst an expression list of 
[“^A.*$”, “^C.$”, “^B.$”] will return false.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> – The full path to the input file</p></li>
<li><p><strong>exprList</strong> – A list of regular expressions (uncompiled) to search for in the input file</p></li>
<li><p><strong>encoding</strong> – Specifies the encoding to be used for opening the file, or None for default.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None on success, or on failure the string expression that was not found (with an indicator of its index in the array).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>string</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="pysys.exceptions.html#pysys.exceptions.FileNotFoundException" title="pysys.exceptions.FileNotFoundException"><strong>FileNotFoundException</strong></a> – Raised if the input file does not exist</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="logcontents">
<h2>logContents<a class="headerlink" href="#logcontents" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="pysys.utils.filegrep.logContents">
<code class="sig-prename descclassname">pysys.utils.filegrep.</code><code class="sig-name descname">logContents</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">message</span></em>, <em class="sig-param"><span class="n">list</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pysys/utils/filegrep.html#logContents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysys.utils.filegrep.logContents" title="Permalink to this definition">¶</a></dt>
<dd><p>Log a list of strings at debug, prepending the line number to each line in the log output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>list</strong> – The list of strings to log</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="pysys.utils.filereplace.html" class="btn btn-neutral float-right" title="pysys.utils.filereplace" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="pysys.utils.filediff.html" class="btn btn-neutral float-left" title="pysys.utils.filediff" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2006-2023 M.B. Grieve; documentation last updated on 2023-10-19

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>