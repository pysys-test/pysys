

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pysys.utils.threadutils &mdash; PySys v2.1  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="pysys.writer" href="pysys.writer.html" />
    <link rel="prev" title="pysys.utils.safeeval" href="pysys.utils.safeeval.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> PySys v2.1
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../GettingStarted.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pysys/BaseTest.html">The BaseTest Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pysys/UserGuide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pysys/ProjectConfiguration.html">Project Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pysys/TestDescriptors.html">Test Descriptors</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="pysys.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="pysys.baserunner.html">pysys.baserunner</a></li>
<li class="toctree-l2"><a class="reference internal" href="pysys.config.html">pysys.config</a></li>
<li class="toctree-l2"><a class="reference internal" href="pysys.constants.html">pysys.constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="pysys.exceptions.html">pysys.exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="pysys.launcher.html">pysys.launcher</a></li>
<li class="toctree-l2"><a class="reference internal" href="pysys.mappers.html">pysys.mappers</a></li>
<li class="toctree-l2"><a class="reference internal" href="pysys.perf.html">pysys.perf</a></li>
<li class="toctree-l2"><a class="reference internal" href="pysys.process.html">pysys.process</a></li>
<li class="toctree-l2"><a class="reference internal" href="pysys.unit.html">pysys.unit</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="pysys.utils.html">pysys.utils</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.allocport.html">pysys.utils.allocport</a></li>
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.filediff.html">pysys.utils.filediff</a></li>
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.filegrep.html">pysys.utils.filegrep</a></li>
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.filereplace.html">pysys.utils.filereplace</a></li>
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.fileunzip.html">pysys.utils.fileunzip</a></li>
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.fileutils.html">pysys.utils.fileutils</a></li>
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.linecount.html">pysys.utils.linecount</a></li>
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.logutils.html">pysys.utils.logutils</a></li>
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.misc.html">pysys.utils.misc</a></li>
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.perfreporter.html">pysys.utils.perfreporter</a></li>
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.pycompat.html">pysys.utils.pycompat</a></li>
<li class="toctree-l3"><a class="reference internal" href="pysys.utils.safeeval.html">pysys.utils.safeeval</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">pysys.utils.threadutils</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#backgroundthread">BackgroundThread</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="pysys.writer.html">pysys.writer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ChangeLog.html">Change Log</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PySys v2.1</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="pysys.html">API Reference</a> &raquo;</li>
        
          <li><a href="pysys.utils.html">pysys.utils</a> &raquo;</li>
        
      <li>pysys.utils.threadutils</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/autodocgen/pysys.utils.threadutils.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-pysys.utils.threadutils">
<span id="pysys-utils-threadutils"></span><h1>pysys.utils.threadutils<a class="headerlink" href="#module-pysys.utils.threadutils" title="Permalink to this headline">¶</a></h1>
<p>Contains the <a class="reference internal" href="#pysys.utils.threadutils.BackgroundThread" title="pysys.utils.threadutils.BackgroundThread"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BackgroundThread</span></code></a> class.</p>
<div class="section" id="backgroundthread">
<h2>BackgroundThread<a class="headerlink" href="#backgroundthread" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="pysys.utils.threadutils.BackgroundThread">
<em class="property">class </em><code class="sig-prename descclassname">pysys.utils.threadutils.</code><code class="sig-name descname">BackgroundThread</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">owner</span></em>, <em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">target</span></em>, <em class="sig-param"><span class="n">kwargsForTarget</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pysys/utils/threadutils.html#BackgroundThread"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysys.utils.threadutils.BackgroundThread" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>PySys wrapper for a background thread that can receive requests to 
stop, and can send log output to the same place as the test’s logging.</p>
<p>To create a background thread in your test, use <a class="reference internal" href="../pysys/BaseTest.html#pysys.basetest.BaseTest.startBackgroundThread" title="pysys.basetest.BaseTest.startBackgroundThread"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pysys.basetest.BaseTest.startBackgroundThread</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name specified for this thread when it was created.</p></li>
<li><p><strong>joinTimeoutSecs</strong> (<em>int</em>) – The default timeout that will be used for joining 
this thread. If not explicitly set this will be <code class="xref py py-obj docutils literal notranslate"><span class="pre">TIMEOUTS</span></code><code class="xref py py-obj docutils literal notranslate"><span class="pre">['WaitForProcessStop']</span></code>.</p></li>
<li><p><strong>exception</strong> (<em>Exception</em>) – The exception object raised by the thread if it has 
terminated with an error, or None if not.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="pysys.utils.threadutils.BackgroundThread.isAlive">
<code class="sig-name descname">isAlive</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pysys/utils/threadutils.html#BackgroundThread.isAlive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysys.utils.threadutils.BackgroundThread.isAlive" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if this thread is still running.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pysys.utils.threadutils.BackgroundThread.stop">
<code class="sig-name descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pysys/utils/threadutils.html#BackgroundThread.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysys.utils.threadutils.BackgroundThread.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Requests the thread to stop by setting the <code class="xref py py-obj docutils literal notranslate"><span class="pre">stopping</span></code> event which 
the thread ought to be checking regularly.</p>
<p>This method returns immediately; if you wish to wait for the 
thread to terminate, call <a class="reference internal" href="#pysys.utils.threadutils.BackgroundThread.join" title="pysys.utils.threadutils.BackgroundThread.join"><code class="xref py py-obj docutils literal notranslate"><span class="pre">join</span></code></a> afterwards. Calling this repeatedly 
has no effect.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>This instance, in case you wish to do fluent method chaining.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#pysys.utils.threadutils.BackgroundThread" title="pysys.utils.threadutils.BackgroundThread"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BackgroundThread</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pysys.utils.threadutils.BackgroundThread.join">
<code class="sig-name descname">join</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">timeout</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">abortOnError</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pysys/utils/threadutils.html#BackgroundThread.join"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysys.utils.threadutils.BackgroundThread.join" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait until this thread terminates, and adds a TIMEDOUT or BLOCKED 
outcome to the owner test if it times out or raises an exception.</p>
<p>If you wish to request the thread to terminate rather than waiting for 
it to reach the end of its target function on its own, call <a class="reference internal" href="#pysys.utils.threadutils.BackgroundThread.stop" title="pysys.utils.threadutils.BackgroundThread.stop"><code class="xref py py-obj docutils literal notranslate"><span class="pre">stop</span></code></a> 
before joining the thread.</p>
<p>If a join times out, the thread is automatically requested to stop 
as soon as possible.</p>
<p>Note that if the thread raises an Exception after it was requested to 
stop this is logged but does not result in a failure outcome, 
since failures during cleanup are usually to be expected.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timeout</strong> – The time in seconds to wait. Usually this should be 
left at the default value of None which uses a default timeout 
of <code class="xref py py-obj docutils literal notranslate"><span class="pre">constants.TIMEOUTS</span></code><code class="xref py py-obj docutils literal notranslate"><span class="pre">['WaitForProcessStop']</span></code>. 
Note that unlike Python’s <code class="xref py py-obj docutils literal notranslate"><span class="pre">Thread.join</span></code> method, infinite timeouts 
are not supported.</p></li>
<li><p><strong>abortOnError</strong> – Set to True if you wish this method to 
immediately abort with an exception if the background thread times out 
or raises an Exception. The default is False, which adds the failure 
outcome but does not raise an exception.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="pysys.writer.html" class="btn btn-neutral float-right" title="pysys.writer" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="pysys.utils.safeeval.html" class="btn btn-neutral float-left" title="pysys.utils.safeeval" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2006-2022 M.B. Grieve; documentation last updated on 2022-03-17

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>